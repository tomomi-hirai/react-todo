(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var o,a=n(0),c=n(2),i=n(10),s=n.n(i),r=n(1),d=n(9),l=n(3),m=n(4),u=n(6),h=n(5),j=(n(16),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("form",{className:"mainForm",onSubmit:this.props.handleSubmit,children:[Object(a.jsxs)("label",{className:"mainForm__label",children:["\u30bf\u30a4\u30c8\u30eb",Object(a.jsx)("input",{className:"mainForm__textBox",type:"text",name:"title",required:!0})]}),Object(a.jsxs)("label",{className:"mainForm__label",children:["\u8aac\u660e",Object(a.jsx)("textarea",{className:"mainForm__textBox",name:"desc"})]}),Object(a.jsx)("input",{className:"mainForm__addBtn",type:"submit",value:"Add"})]})}}]),n}(c.Component)),p=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).handleTodoStatus=function(){t.props.switchTodoStatus(t.props.id)},t.handleDelete=function(){t.props.deleteTodoItem(t.props.id)},t.handleEdit=function(){t.props.switchEditTodoItem(t.props.id)},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this.props.done,e=t?"doneItem":"incompleteItem",n=t?"return":"done",o=t?"\u5143\u306b\u623b\u3059":"\u5b8c\u4e86",c=t?"delete":"edit",i=t?"\u524a\u9664":"\u7de8\u96c6",s=t?this.handleDelete:this.handleEdit,r=!!this.props.desc&&Object(a.jsx)("p",{className:"".concat(e,"__desc"),children:this.props.desc});return Object(a.jsxs)("li",{className:"todoList__item ".concat(e),children:[Object(a.jsxs)("div",{className:"".concat(e,"__content"),children:[Object(a.jsx)("p",{className:"".concat(e,"__title"),children:this.props.title}),r]}),Object(a.jsxs)("ul",{className:"todoList__actionBtnList",children:[Object(a.jsx)("li",{className:"todoList__actionBtnItem",children:Object(a.jsx)("button",{className:"actionBtn actionBtn--".concat(n),type:"button",onClick:this.handleTodoStatus,children:Object(a.jsx)("img",{className:"actionBtn__icon",src:"img/icon_".concat(n,".svg"),alt:o})})}),Object(a.jsx)("li",{className:"todoList__actionBtnItem",children:Object(a.jsx)("button",{className:"actionBtn actionBtn--".concat(c),type:"button",onClick:s,children:Object(a.jsx)("img",{className:"actionBtn__icon",src:"img/icon_".concat(c,".svg"),alt:i})})})]})]})}}]),n}(c.Component),b=n(7),O=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var o;Object(l.a)(this,n),(o=e.call(this,t)).handleChange=function(t){var e=t.target.name,n=t.target.value,a=Object(r.a)({},o.state.editItem),c=Object(r.a)(Object(r.a)({},a),{},Object(b.a)({},e,n));o.setState({editItem:c}),localStorage.setItem("editItems",JSON.stringify(c))},o.handleUpdate=function(){var t=o.state.editItem,e=t.title,n=t.desc;o.props.updateTodoItem(o.props.id,e,n)},o.handleCancel=function(){o.props.cancelEdit(o.props.id)};var a={title:o.props.title,desc:o.props.desc};return o.state={editItem:a},o}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("li",{className:"todoList__item editItem",children:[Object(a.jsx)("div",{className:"editItem__content",children:Object(a.jsxs)("form",{className:"editForm",children:[Object(a.jsx)("input",{className:"editForm__textBox",type:"text",name:"title",value:this.state.editItem.title,onChange:this.handleChange}),Object(a.jsx)("textarea",{className:"editForm__textBox",name:"desc",value:this.state.editItem.desc,onChange:this.handleChange})]})}),Object(a.jsxs)("ul",{className:"todoList__actionBtnList",children:[Object(a.jsx)("li",{className:"todoList__actionBtnItem",children:Object(a.jsx)("button",{className:"actionBtn actionBtn--update",type:"button",onClick:this.handleUpdate,children:Object(a.jsx)("img",{className:"actionBtn__icon",src:"img/icon_update.svg",alt:"\u66f4\u65b0"})})}),Object(a.jsx)("li",{className:"todoList__actionBtnItem",children:Object(a.jsx)("button",{className:"actionBtn actionBtn--return",type:"button",onClick:this.handleCancel,children:Object(a.jsx)("img",{className:"actionBtn__icon",src:"img/icon_return.svg",alt:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})})]})]})}}]),n}(c.Component),f=(n(17),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var t=this,e=this.props.todoItems.map((function(e){return e.edit?Object(a.jsx)(O,Object(r.a)(Object(r.a)({},e),{},{updateTodoItem:t.props.updateTodoItem,cancelEdit:t.props.cancelEdit}),e.id):Object(a.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{switchTodoStatus:t.props.switchTodoStatus,deleteTodoItem:t.props.deleteTodoItem,switchEditTodoItem:t.props.switchEditTodoItem}),e.id)}));return Object(a.jsx)("ul",{className:"todoList",children:e})}}]),n}(c.Component)),v=(n(18),n(19),JSON.parse(localStorage.getItem("todoItems")));o=v&&v.length?v.slice(-1)[0].id+1:0;var I=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;Object(l.a)(this,n),(a=e.call(this,t)).setTodoItems=function(t){a.setState({todoItems:t}),localStorage.setItem("todoItems",JSON.stringify(t))},a.handleSubmit=function(t){t.preventDefault();var e=t.target,n={id:o,title:e.title.value,desc:e.desc.value,done:!1,edit:!1},c=[].concat(Object(d.a)(a.state.todoItems),[n]);a.setTodoItems(c),o++,e.title.value="",e.desc.value=""},a.switchTodoStatus=function(t){var e=Object(d.a)(a.state.todoItems),n=e.findIndex((function(e){return e.id===t})),o=e[n];o.done=!o.done,a.setTodoItems(e)},a.deleteTodoItem=function(t){var e=a.state.todoItems,n=e.findIndex((function(e){return e.id===t}));e.splice(n,1),a.setTodoItems(e)},a.switchEditTodoItem=function(t){var e=a.state.todoItems.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{edit:!0}):e}));a.setTodoItems(e)},a.updateTodoItem=function(t,e,n){var o=a.state.todoItems.map((function(o){return e&&o.id===t?Object(r.a)(Object(r.a)({},o),{},{title:e,desc:n,edit:!1}):o}));a.setTodoItems(o)},a.cancelEdit=function(t){var e=a.state.todoItems.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{edit:!1}):e}));a.setTodoItems(e)};var c=JSON.parse(localStorage.getItem("todoItems"))||[];return a.state={todoItems:c},a}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)("h1",{className:"heading",children:"what I have to do"}),Object(a.jsx)("div",{className:"app__mainFormWrapper",children:Object(a.jsx)(j,{handleSubmit:this.handleSubmit})}),Object(a.jsx)("div",{className:"app__todoWrapper",children:Object(a.jsx)(f,{todoItems:this.state.todoItems,switchTodoStatus:this.switchTodoStatus,deleteTodoItem:this.deleteTodoItem,switchEditTodoItem:this.switchEditTodoItem,updateTodoItem:this.updateTodoItem,cancelEdit:this.cancelEdit})})]})}}]),n}(c.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}s.a.render(Object(a.jsx)(I,{}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/react-todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-todo","/service-worker.js");x?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):_(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):_(e,t)}))}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.59afaafc.chunk.js.map